<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>kakaottstest</title>
</head>
<body>

<audio id="audiotest"></audio>
<script type="module">
    // const config = require('../../config/kakaoconfig.json')
    import "request"
    // const request = require('request')
    const kakaoAPI = '84d9fc9de601a400e5348cc64173f9bb'

  // let objects = []
  // labels.forEach(label => objects.push(label))

    let text = '<speak> 전방에 책이 있습니다 </speak>'

    let options = {
    'method': 'POST',
    'url': 'https://kakaoi-newtone-openapi.kakao.com/v1/synthesize',
    'headers': {
      'Content-Type': 'application/xml',
      'Authorization': 'KakaoAK ' + kakaoAPI
    },
    'body' : text
    };

    request(options, function (error, response) {
        if (error) throw new Error(error);
        let ttsaudio = document.getElementById('audiotest');
        ttsaudio.src = response.body
        // console.log(JSON.stringify(response.headers));
        // print(response.json())
    });
</script>
</body>
</html>